<!-- TODO get the getTheme to work on initialization, it doesn't currently appear to be working -->

<button class="btn js-toggle-dark-mode">☾ dark</button>

<script>
    const btnToggle = document.querySelector('.js-toggle-dark-mode');

    switch (localStorage.getItem('theme')) {
        case 'light':
            jtd.setTheme('light');
            btnToggle.textContent = '☾ Dark';
            break;
        case 'dark':
            jtd.setTheme('dark');
            btnToggle.textContent = '☼ Light';
            break;
        default:
            if (jtd.getTheme() === 'light') {
                btnToggle.textContent = '☾ Dark';
                localStorage.setItem('theme', 'light');
                jtd.setTheme('light');
            } else {
                btnToggle.textContent = '☼ Light';
                localStorage.setItem('theme', 'dark');
                jtd.setTheme('dark');
            }
            break;
    }
</script>

<script>
    const toggleDarkMode = document.querySelector('.js-toggle-dark-mode');

    jtd.addEvent(toggleDarkMode, 'click', function () {
        if (jtd.getTheme() === 'dark') {
            jtd.setTheme('light');
            toggleDarkMode.textContent = '☾ Dark';
            localStorage.setItem('theme', 'light');
        } else {
            jtd.setTheme('dark');
            toggleDarkMode.textContent = '☼ Light';
            localStorage.setItem('theme', 'dark');
        }
    });
</script>

</br>